(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{658:function(t,e,r){"use strict";r.r(e);r(7),r(82),r(64);var o=r(236),n=r(237),c=r(130),l=r(235),h=r(239),m=r(238),d={components:{CharacterStatusTable:o.default,ConfigSetting:n.default,CharacterClassifyArea:l.default,ZoomableMap:h.default,HelloDialog:m.default},data:function(){return{tab:null,characters:this.createClues(),gray:[],maybeClue:[],maybeImpostor:[],killed:[],hunged:[],snackbar:{show:!1,message:"",color:"success"},map:"./map/skeld.png",mapIndex:0,zoom:!1,marks:[{mark:"―",color:"#5C473BF1",editable:!1},{mark:"◎",color:"#418EF3BF",editable:!0},{mark:"〇",color:"#03AA28D9",editable:!0},{mark:"✕",color:"#AC1F08FF",editable:!0}]}},mounted:function(){this.gray=this.characters,this.initPosition()},methods:{updateMapIndex:function(t){this.mapIndex=t},createClues:function(){return[new c.a("black","black"),new c.a("blue","blue"),new c.a("brown","brown"),new c.a("green","green"),new c.a("lime","lime"),new c.a("orange","orange"),new c.a("pink","pink"),new c.a("purple","purple"),new c.a("red","red"),new c.a("skyblue","skyblue"),new c.a("white","white"),new c.a("yellow","yellow")]},startGame:function(){this.characters.forEach((function(t){t.reset()})),this.moveAllChacarctorToGray(),this.initPosition()},resetSetting:function(){this.characters=this.createClues(),this.resetCharacterStatusArea(),this.initPosition()},updateCharacter:function(t){var e=this.characters.find((function(e){return t.color===e.color})),r=e.join!==t.join;e&&Object.assign(e,t),r&&this.initPosition()},updateCharacterStatus:function(t,e){this[t]=e,e.forEach((function(e){"gray"===t?e.status="グレー":"maybeImpostor"===t?e.status="怪しい":"maybeClue"===t?e.status="白目":"killed"===t?e.status="KILL":"hunged"===t&&(e.status="追放"),e.isAlive||(e.useEmergencyButton=!0)}))},moveAllChacarctorToGray:function(){var t=this,e=function(e){return e.forEach((function(e){t.gray.push(e)})),[]};this.maybeClue=e(this.maybeClue),this.maybeImpostor=e(this.maybeImpostor),this.killed=e(this.killed),this.hunged=e(this.hunged)},resetCharacterStatusArea:function(){this.gray=this.characters,this.maybeClue=[],this.maybeImpostor=[],this.killed=[],this.hunged=[]},saveSetting:function(t){try{var e={characters:this.characters,marks:this.marks};localStorage.setItem("amongus-memo-tools.settings.".concat(t),JSON.stringify(e)),this.showSnackbar("success","設定をセーブしました")}catch(t){this.showSnackbar("error","設定のセーブに失敗しました"),console.err(t)}},loadSetting:function(t){try{var e=localStorage.getItem("amongus-memo-tools.settings.".concat(t));if(e){var r=JSON.parse(e);this.characters=c.a.assigns(r.characters),this.marks=r.marks,this.resetCharacterStatusArea(),this.initPosition(),this.showSnackbar("success","設定をロードしました")}else this.showSnackbar("success","設定{index}は保存されていません")}catch(t){this.showSnackbar("error","設定のロードに失敗しました"),console.error(t)}},initPosition:function(){var t=0;this.characters.forEach((function(e){e.join&&(e.resetPosition({top:20,absTop:20,left:t,absLeft:t}),t+=45)})),this.mapIndex=0},showSnackbar:function(t,e){this.snackbar.color=t,this.snackbar.message=e,this.snackbar.show=!0},updateMarks:function(t){this.marks=t}}},k=r(17),v=r(24),f=r.n(v),w=r(229),y=r(224),C=r(633),S=r(225),I=r(223),_=r(634),x=r(656),V=r(657),A=r(660),T=r(659),E=r(654),M=r(640),component=Object(k.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-toolbar",{attrs:{floating:"",dense:""}},[r("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[r("v-tab",[r("v-icon",{attrs:{left:""}},[t._v(" mdi-account ")]),t._v("\n        メイン\n      ")],1),t._v(" "),r("v-tab",[r("v-icon",{attrs:{left:""}},[t._v(" mdi-access-point ")]),t._v("\n        設定\n      ")],1)],1),t._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{vertical:""}}),t._v(" "),r("v-btn",{attrs:{color:"light-blue darken-3"},on:{click:t.startGame}},[t._v("開始")])],1),t._v(" "),r("v-tabs-items",{attrs:{touchless:!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[r("v-tab-item",[r("v-card",[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("character-status-table",{attrs:{characters:t.characters,marks:t.marks},on:{updateCharacter:t.updateCharacter}})],1),t._v(" "),r("v-col",{attrs:{cols:"6"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("zoomable-map",{attrs:{src:t.map,characters:t.characters,"map-index":t.mapIndex,zoom:t.zoom},on:{"update:zoom":function(e){t.zoom=e},updateCharacter:t.updateCharacter,updateMapIndex:t.updateMapIndex}})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("character-classify-area",{attrs:{gray:t.gray,"maybe-clue":t.maybeClue,"maybe-impostor":t.maybeImpostor,killed:t.killed,hunged:t.hunged},on:{updateCharacters:t.updateCharacterStatus}})],1)],1)],1)],1)],1)],1),t._v(" "),r("v-tab-item",[r("config-setting",{attrs:{characters:t.characters,marks:t.marks,map:t.map},on:{"update:marks":function(e){t.marks=e},"update:map":function(e){t.map=e},resetSetting:t.resetSetting,saveSetting:t.saveSetting,loadSetting:t.loadSetting,updateCharacter:t.updateCharacter,updateMarks:t.updateMarks}})],1)],1),t._v(" "),r("v-snackbar",{attrs:{color:t.snackbar.color,top:""},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v("\n    "+t._s(t.snackbar.message)+"\n  ")]),t._v(" "),r("hello-dialog")],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{VBtn:w.a,VCard:y.a,VCol:C.a,VDivider:S.a,VIcon:I.a,VRow:_.a,VSnackbar:x.a,VTab:V.a,VTabItem:A.a,VTabs:T.a,VTabsItems:E.a,VToolbar:M.a})}}]);